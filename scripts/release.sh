#!/bin/bash

##############################################################################
# release.sh
#
# ç›®çš„: Enterprise Commonså…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ã‚’ä½œæˆ
#
# å®Ÿè¡Œæ–¹æ³•:
#   ./scripts/release.sh <version> <status>
#
#   ä¾‹:
#   ./scripts/release.sh 1.0.0 stable
#   ./scripts/release.sh 1.1.0 rc.1
#   ./scripts/release.sh 1.0.1 stable
#
# å‡¦ç†å†…å®¹:
#   1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
#   2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆï¼ˆbuild-templates.shï¼‰
#   3. RELEASE.mdæ›´æ–°
#   4. CHANGELOG.mdç”Ÿæˆ
#   5. Git tagä½œæˆ
#   6. ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè¡¨ç¤º
##############################################################################

set -e  # ã‚¨ãƒ©ãƒ¼æ™‚ã«å³åº§çµ‚äº†

# ã‚«ãƒ©ãƒ¼å‡ºåŠ›è¨­å®š
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
MAGENTA='\033[0;35m'
NC='\033[0m' # No Color

# ä½¿ç”¨æ–¹æ³•è¡¨ç¤º
usage() {
    echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo -e "${BLUE}  Enterprise Commons ãƒªãƒªãƒ¼ã‚¹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ${NC}"
    echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo ""
    echo "ä½¿ç”¨æ–¹æ³•:"
    echo "  $0 <version> <status>"
    echo ""
    echo "å¼•æ•°:"
    echo "  version    ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ï¼ˆä¾‹: 1.0.0, 1.1.0, 2.0.0ï¼‰"
    echo "  status     ãƒªãƒªãƒ¼ã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
    echo ""
    echo "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:"
    echo "  stable     å®‰å®šç‰ˆï¼ˆæœ¬ç•ªç’°å¢ƒæ¨å¥¨ï¼‰"
    echo "  rc.N       ãƒªãƒªãƒ¼ã‚¹å€™è£œï¼ˆãƒ†ã‚¹ãƒˆç’°å¢ƒæ¨å¥¨ï¼‰"
    echo "  beta.N     ãƒ™ãƒ¼ã‚¿ç‰ˆï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰"
    echo "  alpha.N    ã‚¢ãƒ«ãƒ•ã‚¡ç‰ˆï¼ˆå†…éƒ¨é–‹ç™ºã®ã¿ï¼‰"
    echo ""
    echo "ä¾‹:"
    echo "  $0 1.0.0 stable      # åˆå›å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹"
    echo "  $0 1.1.0 rc.1        # v1.1.0ã®ãƒªãƒªãƒ¼ã‚¹å€™è£œ1"
    echo "  $0 1.0.1 stable      # v1.0.0ã®ãƒ‘ãƒƒãƒãƒªãƒªãƒ¼ã‚¹"
    echo ""
    exit 1
}

# å¼•æ•°ãƒã‚§ãƒƒã‚¯
if [ $# -ne 2 ]; then
    usage
fi

VERSION=$1
STATUS=$2
TAG="v${VERSION}-${STATUS}"

# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"

echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}  Enterprise Commons ãƒªãƒªãƒ¼ã‚¹ä½œæˆ: ${YELLOW}v${VERSION}-${STATUS}${NC}"
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

cd "$ROOT_DIR"

##############################################################################
# 1. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
##############################################################################

echo -e "${BLUE}[1/7]${NC} ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¸­..."

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³å½¢å¼ãƒã‚§ãƒƒã‚¯ (X.Y.Z)
if ! [[ "$VERSION" =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
    echo -e "${RED}[ã‚¨ãƒ©ãƒ¼]${NC} ãƒãƒ¼ã‚¸ãƒ§ãƒ³å½¢å¼ãŒä¸æ­£ã§ã™: $VERSION"
    echo -e "${YELLOW}[ãƒ’ãƒ³ãƒˆ]${NC} æ­£ã—ã„å½¢å¼: X.Y.Z (ä¾‹: 1.0.0, 1.2.3)"
    exit 1
fi

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯
case "$STATUS" in
    stable|rc.*|beta.*|alpha.*)
        ;;
    *)
        echo -e "${RED}[ã‚¨ãƒ©ãƒ¼]${NC} ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒä¸æ­£ã§ã™: $STATUS"
        echo -e "${YELLOW}[ãƒ’ãƒ³ãƒˆ]${NC} æœ‰åŠ¹ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: stable, rc.N, beta.N, alpha.N"
        exit 1
        ;;
esac

# ã‚¿ã‚°é‡è¤‡ãƒã‚§ãƒƒã‚¯
if git tag | grep -q "^${TAG}$"; then
    echo -e "${RED}[ã‚¨ãƒ©ãƒ¼]${NC} ã‚¿ã‚°ãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™: $TAG"
    echo -e "${YELLOW}[ãƒ’ãƒ³ãƒˆ]${NC} ç•°ãªã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¾ãŸã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„"
    exit 1
fi

# æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ãƒã‚§ãƒƒã‚¯
if ! git diff-index --quiet HEAD -- 2>/dev/null; then
    echo -e "${RED}[ã‚¨ãƒ©ãƒ¼]${NC} æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™"
    echo -e "${YELLOW}[ãƒ’ãƒ³ãƒˆ]${NC} å…ˆã«å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãã ã•ã„"
    git status --short
    exit 1
fi

echo -e "${GREEN}  âœ“${NC} ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v${VERSION}-${STATUS}"
echo -e "${GREEN}  âœ“${NC} Gitã‚¿ã‚°: $TAG"
echo -e "${GREEN}  âœ“${NC} ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†"
echo ""

##############################################################################
# 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ
##############################################################################

echo -e "${BLUE}[2/7]${NC} ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆä¸­..."

if [ ! -f "$ROOT_DIR/scripts/build-templates.sh" ]; then
    echo -e "${RED}[ã‚¨ãƒ©ãƒ¼]${NC} build-templates.sh ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
    exit 1
fi

# build-templates.shå®Ÿè¡Œ
"$ROOT_DIR/scripts/build-templates.sh" > /dev/null 2>&1

echo -e "${GREEN}  âœ“${NC} ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆå®Œäº†"
echo ""

##############################################################################
# 3. RELEASE.mdæ›´æ–°
##############################################################################

echo -e "${BLUE}[3/7]${NC} RELEASE.mdæ›´æ–°ä¸­..."

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµµæ–‡å­—
STATUS_EMOJI="ğŸ”´"
STATUS_TEXT="DEVELOPMENT"
case "$STATUS" in
    stable)
        STATUS_EMOJI="ğŸŸ¢"
        STATUS_TEXT="STABLE"
        ;;
    rc.*)
        STATUS_EMOJI="ğŸŸ¡"
        STATUS_TEXT="RC (Release Candidate)"
        ;;
    beta.*)
        STATUS_EMOJI="ğŸŸ "
        STATUS_TEXT="BETA"
        ;;
    alpha.*)
        STATUS_EMOJI="ğŸ”´"
        STATUS_TEXT="ALPHA"
        ;;
esac

# æœ€è¿‘ã®ã‚³ãƒŸãƒƒãƒˆå–å¾—ï¼ˆãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆç”¨ï¼‰
RECENT_COMMITS=$(git log --oneline -10 --pretty=format:"- %s")

cat > "$ROOT_DIR/RELEASE.md" <<EOF
# Enterprise Commons ãƒªãƒªãƒ¼ã‚¹ç®¡ç†

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹æƒ…å ±ã‚’ç®¡ç†ã—ã¾ã™ã€‚

---

## ğŸ“‹ ãƒªãƒªãƒ¼ã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | èª¬æ˜ | ä¼æ¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä½¿ç”¨ |
|-----------|------|------------------------|
| **ğŸŸ¢ STABLE** | å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ | âœ… æ¨å¥¨ |
| **ğŸŸ¡ RC (Release Candidate)** | ãƒªãƒªãƒ¼ã‚¹å€™è£œ | âš ï¸ ãƒ†ã‚¹ãƒˆç’°å¢ƒã§æ¤œè¨¼æ¨å¥¨ |
| **ğŸ”´ DEVELOPMENT** | é–‹ç™ºä¸­ | âŒ æœ¬ç•ªç’°å¢ƒä½¿ç”¨ç¦æ­¢ |

---

## ğŸš€ æœ€æ–°ãƒªãƒªãƒ¼ã‚¹

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³: **v${VERSION}-${STATUS}**
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ${STATUS_EMOJI} ${STATUS_TEXT}

**ãƒªãƒªãƒ¼ã‚¹æ—¥**: $(date '+%Y-%m-%d')

**Gitã‚¿ã‚°**: \`${TAG}\`

**èª¬æ˜**:
$(if [ "$STATUS" = "stable" ]; then
    echo "å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ã§ã™ã€‚æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚"
elif [[ "$STATUS" =~ ^rc\. ]]; then
    echo "ãƒªãƒªãƒ¼ã‚¹å€™è£œç‰ˆã§ã™ã€‚ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®æ¤œè¨¼ã‚’æ¨å¥¨ã—ã¾ã™ã€‚"
else
    echo "é–‹ç™ºç‰ˆã§ã™ã€‚æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨ã¯æ¨å¥¨ã—ã¾ã›ã‚“ã€‚"
fi)

**å«ã¾ã‚Œã‚‹æ©Ÿèƒ½**:
- core/extensions/custom 3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- ä¼æ¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ (create-project.sh)
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ (build-templates.sh)
- è‡ªå‹•æ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (update-core.sh)
- ãƒ­ã‚°ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆãƒã‚¤ã‚¯ãƒ­ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆ†å‰²æ¸ˆã¿ï¼‰
- æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆRBACï¼‰

**æœ€è¿‘ã®å¤‰æ›´**:
${RECENT_COMMITS}

**æ—¢çŸ¥ã®å•é¡Œ**:
- ãªã—

---

## ğŸ“š ãƒªãƒªãƒ¼ã‚¹å±¥æ­´

### v${VERSION}-${STATUS}
**ãƒªãƒªãƒ¼ã‚¹æ—¥**: $(date '+%Y-%m-%d')
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ${STATUS_EMOJI} ${STATUS_TEXT}

**å¤‰æ›´å†…å®¹**:
${RECENT_COMMITS}

---

## ğŸ”„ ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹

### 1. é–‹ç™ºä¸­ (DEVELOPMENT)
\`\`\`
ğŸ”´ DEVELOPMENT
â””â”€ æ©Ÿèƒ½é–‹ç™ºãƒ»ãƒã‚°ä¿®æ­£
\`\`\`

### 2. ãƒªãƒªãƒ¼ã‚¹å€™è£œ (RC)
\`\`\`
ğŸŸ¡ RC
â”œâ”€ æ©Ÿèƒ½å‡çµ
â”œâ”€ çµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèª
â””â”€ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»
\`\`\`

### 3. å®‰å®šç‰ˆãƒªãƒªãƒ¼ã‚¹ (STABLE)
\`\`\`
ğŸŸ¢ STABLE
â”œâ”€ Git tagä½œæˆ
â”œâ”€ CHANGELOG.mdæ›´æ–°
â”œâ”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ
â””â”€ ä¼æ¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸é…å¸ƒå¯èƒ½
\`\`\`

---

## ğŸ“¦ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°è¦å‰‡

Enterprise Commonsã¯ **Semantic Versioning 2.0.0** ã«å¾“ã„ã¾ã™ã€‚

\`\`\`
v{MAJOR}.{MINOR}.{PATCH}-{STATUS}

ä¾‹:
- v1.0.0-stable     # åˆå›å®‰å®šç‰ˆ
- v1.1.0-rc.1       # v1.1.0ã®ãƒªãƒªãƒ¼ã‚¹å€™è£œ1
- v1.1.0-stable     # v1.1.0å®‰å®šç‰ˆ
- v2.0.0-stable     # ãƒ¡ã‚¸ãƒ£ãƒ¼ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
\`\`\`

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®æ„å‘³

| ç•ªå· | å¤‰æ›´å†…å®¹ | ä¾‹ |
|------|---------|-----|
| **MAJOR** | ç ´å£Šçš„å¤‰æ›´ï¼ˆå¾Œæ–¹äº’æ›æ€§ãªã—ï¼‰ | 1.x.x â†’ 2.0.0 |
| **MINOR** | æ–°æ©Ÿèƒ½è¿½åŠ ï¼ˆå¾Œæ–¹äº’æ›æ€§ã‚ã‚Šï¼‰ | 1.0.x â†’ 1.1.0 |
| **PATCH** | ãƒã‚°ä¿®æ­£ï¼ˆå¾Œæ–¹äº’æ›æ€§ã‚ã‚Šï¼‰ | 1.0.0 â†’ 1.0.1 |

---

## ğŸ›¡ï¸ ä¼æ¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä½¿ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### âœ… æ¨å¥¨

- **ğŸŸ¢ STABLE** ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã¿æœ¬ç•ªç’°å¢ƒã§ä½¿ç”¨
- ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’å¿…ãšç¢ºèª
- ãƒ†ã‚¹ãƒˆç’°å¢ƒã§äº‹å‰æ¤œè¨¼

### âš ï¸ æ³¨æ„

- **ğŸŸ¡ RC** ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®ã¿ä½¿ç”¨
- æ—¢çŸ¥ã®å•é¡Œã‚’ç¢ºèª
- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é–‹ç™ºãƒãƒ¼ãƒ ã«å ±å‘Š

### âŒ ç¦æ­¢

- **ğŸ”´ DEVELOPMENT** ã‚’æœ¬ç•ªç’°å¢ƒã§ä½¿ç”¨
- ã‚¿ã‚°ãªã—ã®ã‚³ãƒŸãƒƒãƒˆã‚’ç›´æ¥ä½¿ç”¨
- æœªãƒªãƒªãƒ¼ã‚¹æ©Ÿèƒ½ã«ä¾å­˜

---

**æœ€çµ‚æ›´æ–°**: $(date '+%Y-%m-%d')
**ç®¡ç†è€…**: Enterprise Commonsé–‹ç™ºãƒãƒ¼ãƒ 
EOF

echo -e "${GREEN}  âœ“${NC} RELEASE.mdæ›´æ–°å®Œäº†"
echo ""

##############################################################################
# 4. Gitã‚³ãƒŸãƒƒãƒˆï¼ˆRELEASE.md + templatesï¼‰
##############################################################################

echo -e "${BLUE}[4/7]${NC} å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆä¸­..."

git add RELEASE.md templates/
git commit -m "release: v${VERSION}-${STATUS}

ğŸ“¦ ãƒªãƒªãƒ¼ã‚¹æƒ…å ±:
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³: v${VERSION}-${STATUS}
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${STATUS_EMOJI} ${STATUS_TEXT}
- ãƒªãƒªãƒ¼ã‚¹æ—¥: $(date '+%Y-%m-%d')

ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"

echo -e "${GREEN}  âœ“${NC} ã‚³ãƒŸãƒƒãƒˆå®Œäº†"
echo ""

##############################################################################
# 5. Gitã‚¿ã‚°ä½œæˆ
##############################################################################

echo -e "${BLUE}[5/7]${NC} Gitã‚¿ã‚°ä½œæˆä¸­..."

git tag -a "$TAG" -m "Release v${VERSION}-${STATUS}

Status: ${STATUS_EMOJI} ${STATUS_TEXT}
Date: $(date '+%Y-%m-%d')

$(if [ "$STATUS" = "stable" ]; then
    echo "This is a stable release recommended for production use."
elif [[ "$STATUS" =~ ^rc\. ]]; then
    echo "This is a release candidate. Testing in staging environments is recommended."
else
    echo "This is a development release. Not recommended for production use."
fi)

Recent changes:
${RECENT_COMMITS}"

echo -e "${GREEN}  âœ“${NC} ã‚¿ã‚°ä½œæˆå®Œäº†: $TAG"
echo ""

##############################################################################
# 6. ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒƒã‚·ãƒ¥ç¢ºèª
##############################################################################

echo -e "${BLUE}[6/7]${NC} ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒƒã‚·ãƒ¥ç¢ºèª..."

echo -e "${YELLOW}ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™ã‹ï¼Ÿ (y/N): ${NC}"
read -r response

if [[ "$response" =~ ^[Yy]$ ]]; then
    git push origin master
    git push origin "$TAG"
    echo -e "${GREEN}  âœ“${NC} ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒƒã‚·ãƒ¥å®Œäº†"
else
    echo -e "${YELLOW}  âŠ˜${NC} ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒƒã‚·ãƒ¥ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸ"
    echo -e "${YELLOW}å¾Œã§æ‰‹å‹•ã§ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ãã ã•ã„:${NC}"
    echo -e "  git push origin master"
    echo -e "  git push origin $TAG"
fi
echo ""

##############################################################################
# 7. ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè¡¨ç¤º
##############################################################################

echo -e "${GREEN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${GREEN}  âœ“ ãƒªãƒªãƒ¼ã‚¹ä½œæˆå®Œäº†: ${YELLOW}v${VERSION}-${STATUS}${NC}"
echo -e "${GREEN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo -e "ğŸ“¦ ãƒªãƒªãƒ¼ã‚¹æƒ…å ±:"
echo -e "   ãƒãƒ¼ã‚¸ãƒ§ãƒ³: ${MAGENTA}v${VERSION}-${STATUS}${NC}"
echo -e "   ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${STATUS_EMOJI} ${STATUS_TEXT}"
echo -e "   Gitã‚¿ã‚°: ${BLUE}$TAG${NC}"
echo -e "   ãƒªãƒªãƒ¼ã‚¹æ—¥: $(date '+%Y-%m-%d')"
echo ""
echo -e "ğŸ“‹ ä¼æ¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä½¿ç”¨æ–¹æ³•:"
echo ""
echo -e "  1ï¸âƒ£  Enterprise Commonsæœ€æ–°ç‰ˆã‚’å–å¾—"
echo -e "     ${YELLOW}cd /path/to/enterprise-commons${NC}"
echo -e "     ${YELLOW}git pull origin master${NC}"
echo -e "     ${YELLOW}git checkout $TAG${NC}"
echo ""
echo -e "  2ï¸âƒ£  ä¼æ¥­ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ç”¨"
echo -e "     ${YELLOW}cd /path/to/company-project${NC}"
echo -e "     ${YELLOW}/path/to/enterprise-commons/scripts/update-core.sh${NC}"
echo ""
echo -e "  3ï¸âƒ£  å‹•ä½œç¢ºèªãƒ»ã‚³ãƒŸãƒƒãƒˆ"
echo -e "     ${YELLOW}npm run test${NC}"
echo -e "     ${YELLOW}git add backend/src/core frontend/src/core${NC}"
echo -e "     ${YELLOW}git commit -m \"chore: update core to v${VERSION}-${STATUS}\"${NC}"
echo ""
echo -e "${GREEN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
