# セットアップガイド

## 🚀 クイックスタート

### 1. 前提条件
- Docker 20.10+
- Docker Compose 2.0+
- Git

### 2. 環境構築

```bash
# 1. リポジトリをクローン
git clone <repository-url>
cd websys-dev-platform

# 2. 開発環境セットアップ（ワンコマンド）
./infrastructure/scripts/setup-dev.sh
```

### 3. アクセス確認

- **フロントエンド**: http://localhost:3000
- **バックエンドAPI**: http://localhost:8000
- **ログイン**: admin / password

## 📁 ディレクトリ構造

```
websys-dev-platform/
├── 📋 templates/                 # テンプレート（読み取り専用）
│   ├── frontend-vue/            # Vue.js + Element Plus
│   └── backend-express/         # Express + Prisma
├── ⚙️  infrastructure/           # インフラ・環境設定
│   ├── docker/                  # Docker関連
│   │   ├── development/         # 開発環境
│   │   ├── staging/             # ステージング環境
│   │   └── production/          # 本番環境
│   └── scripts/                 # 運用スクリプト
├── 🌱 environments/             # 環境別設定
│   ├── development/             # 開発環境設定
│   ├── staging/                 # ステージング設定
│   └── production/              # 本番設定
├── 👨‍💻 workspace/                # 開発ワークスペース
│   ├── frontend/                # フロントエンド開発
│   └── backend/                 # バックエンド開発
└── 📚 docs/                     # ドキュメント
```

## 🔄 開発フロー

### 日常の開発

```bash
# workspace/ で開発
cd workspace/frontend    # フロントエンド
cd workspace/backend     # バックエンド

# 変更は自動でホットリロード
```

### 環境操作

```bash
# 開発環境起動
./infrastructure/scripts/setup-dev.sh

# 環境停止
cd infrastructure/docker/development
docker-compose down

# 環境リセット
./infrastructure/scripts/reset-dev.sh

# ログ確認
cd infrastructure/docker/development
docker-compose logs -f [service-name]
```

## 🔧 カスタマイズ

### 新しいテンプレート追加

1. `templates/` に新しいテンプレートフォルダを作成
2. `infrastructure/scripts/init-workspace.sh` を更新
3. 対応するDockerfile作成

### 新しい環境追加

1. `environments/` に新環境フォルダ作成
2. `infrastructure/docker/` に対応設定作成
3. 専用セットアップスクリプト作成

## ❓ トラブルシューティング

### よくある問題

1. **ポート競合**
   ```bash
   lsof -i :3000  # 使用中プロセス確認
   ```

2. **ワークスペースが作成されない**
   ```bash
   ./infrastructure/scripts/init-workspace.sh
   ```

3. **環境変数が読み込まれない**
   ```bash
   ./infrastructure/scripts/generate-env.sh development
   ```

### 完全リセット

```bash
docker-compose down -v
rm -rf workspace environments
./infrastructure/scripts/setup-dev.sh
```