# é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»æ¤ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ“‹ æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€**Vue.js + Element Plus + Express + PostgreSQL å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‹ã‚·ã‚¹ãƒ†ãƒ **ã®é–‹ç™ºãƒ»ç§»æ¤ãƒ»é‹ç”¨ã®ãŸã‚ã®åŒ…æ‹¬çš„ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

### ğŸ¯ å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ä¼æ¥­å›ºæœ‰æ©Ÿèƒ½åˆ†é›¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª**ã¨ã—ã¦ä»–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æä¾›ã•ã‚Œã¾ã™ã€‚
ä»¥ä¸‹ã®3å±¤åˆ†é›¢ã«ã‚ˆã‚Šã€**å…±é€šæ©Ÿèƒ½æ›´æ–°æ™‚ã«ä¼æ¥­å›ºæœ‰æ©Ÿèƒ½ã¸ã®å½±éŸ¿ã‚¼ãƒ­ã€é€†ã‚‚åŒæ§˜ã«å½±éŸ¿ã‚¼ãƒ­**ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

### ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®è¨­è¨ˆåŸå‰‡

```
websys/                           # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒªãƒã‚¸ãƒˆãƒª
â”œâ”€â”€ templates/                    # å…±é€šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆé…å¸ƒç”¨ï¼‰
â”‚   â”œâ”€â”€ frontend/src/
â”‚   â”‚   â”œâ”€â”€ core/                # âœ… å…±é€šã‚³ã‚¢ï¼ˆå¤‰æ›´ç¦æ­¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ extensions/          # ğŸ”Œ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆï¼ˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼‰
â”‚   â”‚   â””â”€â”€ custom/              # ğŸ¢ ä¼æ¥­å›ºæœ‰æ©Ÿèƒ½ï¼ˆå®Œå…¨ç‹¬ç«‹ï¼‰
â”‚   â””â”€â”€ backend/src/
â”‚       â”œâ”€â”€ core/                # âœ… å…±é€šã‚³ã‚¢ï¼ˆå¤‰æ›´ç¦æ­¢ï¼‰
â”‚       â”œâ”€â”€ extensions/          # ğŸ”Œ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆï¼ˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ï¼‰
â”‚       â””â”€â”€ custom/              # ğŸ¢ ä¼æ¥­å›ºæœ‰æ©Ÿèƒ½ï¼ˆå®Œå…¨ç‹¬ç«‹ï¼‰
```

### ğŸ” åˆ†é›¢åŸå‰‡ã¨å½±éŸ¿ç¯„å›²

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | å¤‰æ›´å¯å¦ | å½±éŸ¿ç¯„å›² | ç”¨é€” | å…·ä½“ä¾‹ |
|---------|---------|---------|------|--------|
| **core/** | âŒ å¤‰æ›´ç¦æ­¢ | å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | å…±é€šåŸºç›¤æ©Ÿèƒ½ | ãƒ­ã‚°ç›£è¦–ãƒ»èªè¨¼ãƒ»æ¨©é™ç®¡ç†ãƒ»RBAC |
| **extensions/** | âœ… æ‹¡å¼µå¯èƒ½ | å€‹åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | å…±é€šæ©Ÿèƒ½ã®æ‹¡å¼µ | ã‚«ã‚¹ã‚¿ãƒ èªè¨¼ãƒ»è¿½åŠ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
| **custom/** | âœ… è‡ªç”±å®Ÿè£… | å€‹åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ | ä¼æ¥­å›ºæœ‰ãƒ­ã‚¸ãƒƒã‚¯ | å–¶æ¥­ç®¡ç†ãƒ»åœ¨åº«ç®¡ç†ãƒ»é¡§å®¢ç®¡ç† |

### âœ… ã“ã®ã‚¬ã‚¤ãƒ‰ã®ä½¿ç”¨æ–¹æ³•

#### ğŸ”„ **æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®ä½¿ç”¨**
- é–‹ç™ºè¦ç´„ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨ã—ã¦ç›´æ¥é©ç”¨
- å“è³ªå‘ä¸Šãƒ»åŠ¹ç‡åŒ–ã®ãŸã‚ã®å‚è€ƒè³‡æ–™
- **é‡è¦**: æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’ `core/` ã«ç§»è¡Œã™ã‚‹éš›ã¯å½±éŸ¿ç¯„å›²ã‚’ååˆ†æ¤œè¨¼

#### ğŸ“¦ **æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ç§»æ¤**
1. **å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªé…å¸ƒ**: `templates/` ãƒ•ã‚©ãƒ«ãƒ€ã‚’æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼
2. **ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š**: vite.config.ts ã¨ tsconfig.json ã‚’è¨­å®š
3. **ç’°å¢ƒæ§‹ç¯‰**: é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®å®Ÿè¡Œ
4. **ä¼æ¥­å›ºæœ‰æ©Ÿèƒ½å®Ÿè£…**: `custom/` å†…ã§ç‹¬è‡ªãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…

#### ğŸ¯ **å¯¾è±¡èª­è€…**
- Vue.js + Element Plus ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…
- Express.js + Prisma ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ
- æ–°è¦å‚åŠ é–‹ç™ºè€…ãƒ»ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼

---

## ğŸš€ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»æ¤ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Phase 1: åŸºæœ¬ç’°å¢ƒæ§‹ç¯‰ï¼ˆå¿…é ˆï¼‰
```yaml
â–¡ Dockerç’°å¢ƒæ§‹ç¯‰:
  â–¡ Docker 20.10+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
  â–¡ Docker Compose 2.0+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
  â–¡ Git 2.30+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿

â–¡ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ:
  â–¡ workspace/frontend/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
  â–¡ workspace/backend/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
  â–¡ infrastructure/docker/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ

â–¡ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«é…ç½®:
  â–¡ docker-compose.yml (ä¸‹è¨˜ã‚µãƒ³ãƒ—ãƒ«å‚ç…§)
  â–¡ .env ãƒ•ã‚¡ã‚¤ãƒ« (ç’°å¢ƒå¤‰æ•°è¨­å®š)
  â–¡ package.json (ä¸¡æ–¹ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹)
```

### Phase 2: æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®Ÿè£…ï¼ˆå¿…é ˆï¼‰
```yaml
â–¡ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (workspace/frontend/):
  â–¡ Vue.js 3.3+ + TypeScript
  â–¡ Element Plus 2.3+ (è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨­å®š)
  â–¡ Vue Router 4.0+ (SPA ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
  â–¡ Pinia 2.0+ (çŠ¶æ…‹ç®¡ç†)
  â–¡ Vite 4.0+ (ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«)
  â–¡ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š (@core/@extensions/@custom)

â–¡ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (workspace/backend/):
  â–¡ Express.js 4.18+ + TypeScript
  â–¡ Prisma 5.0+ (ORMãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³)
  â–¡ JWTèªè¨¼ (jsonwebtoken)
  â–¡ express-validator (ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³)
  â–¡ CORSè¨­å®š (ã‚¯ãƒ­ã‚¹ã‚ªãƒªã‚¸ãƒ³å¯¾å¿œ)
  â–¡ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š (@core/@extensions/@custom)

â–¡ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ :
  â–¡ src/core/ ä½œæˆï¼ˆå…±é€šã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰
  â–¡ src/extensions/ ä½œæˆï¼ˆæ‹¡å¼µãƒã‚¤ãƒ³ãƒˆï¼‰
  â–¡ src/custom/ ä½œæˆï¼ˆä¼æ¥­å›ºæœ‰æ©Ÿèƒ½ï¼‰
  â–¡ README.md é…ç½®ï¼ˆå„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰

â–¡ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:
  â–¡ PostgreSQL 15+
  â–¡ Prisma Schemaè¨­å®š
  â–¡ åˆæœŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
```

### Phase 3: é–‹ç™ºè¦ç´„é©ç”¨ï¼ˆæ¨å¥¨ï¼‰
```yaml
â–¡ TypeScriptè¨­å®š:
  â–¡ tsconfig.json (å³å¯†ãªå‹ãƒã‚§ãƒƒã‚¯è¨­å®š)
  â–¡ çµ±ä¸€çš„ãªå‹å®šç¾©è¦ç´„
  â–¡ ã‚¤ãƒ³ãƒãƒ¼ãƒˆé †åºè¦ç´„
  â–¡ ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š (@core/@extensions/@custom)

â–¡ ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«:
  â–¡ ESLint + Prettierè¨­å®š
  â–¡ å‘½åè¦å‰‡ã®çµ±ä¸€
  â–¡ ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦ç´„
  â–¡ ESLintä¿è­·è¨­å®š (core/ å¤‰æ›´ç¦æ­¢ãƒ«ãƒ¼ãƒ«)

â–¡ Gitè¦ç´„:
  â–¡ ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ (feature/bugfix/hotfix)
  â–¡ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„
  â–¡ ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

â–¡ å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªç®¡ç†:
  â–¡ core/ æ›´æ–°ãƒ•ãƒ­ãƒ¼ç¢ºç«‹
  â–¡ extensions/ æ‹¡å¼µæ–¹æ³•å®šç¾©
  â–¡ custom/ å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ•´å‚™
```

---

## ğŸ”§ ç§»æ¤ç”¨ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

### ğŸ“‹ å¿…é ˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

#### 1. docker-compose.yml (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ)
```yaml
version: '3.8'

services:
  # PostgreSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
  postgres:
    image: postgres:15
    container_name: ${PROJECT_NAME:-myproject}_postgres
    environment:
      POSTGRES_DB: ${DB_NAME:-myproject_db}
      POSTGRES_USER: ${DB_USER:-admin}
      POSTGRES_PASSWORD: ${DB_PASSWORD:-password}
    ports:
      - "${DB_PORT:-5432}:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - app-network

  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API
  backend:
    build:
      context: ./workspace/backend
      dockerfile: Dockerfile
    container_name: ${PROJECT_NAME:-myproject}_backend
    environment:
      NODE_ENV: development
      DATABASE_URL: postgresql://${DB_USER:-admin}:${DB_PASSWORD:-password}@postgres:5432/${DB_NAME:-myproject_db}
      JWT_SECRET: ${JWT_SECRET:-development-secret-key}
      PORT: 8000
    ports:
      - "${BACKEND_PORT:-8000}:8000"
    volumes:
      - ./workspace/backend:/app
      - /app/node_modules
    depends_on:
      - postgres
    networks:
      - app-network
    command: npm run dev

  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ SPA
  frontend:
    build:
      context: ./workspace/frontend
      dockerfile: Dockerfile
    container_name: ${PROJECT_NAME:-myproject}_frontend
    environment:
      VITE_API_BASE_URL: http://localhost:${BACKEND_PORT:-8000}
    ports:
      - "${FRONTEND_PORT:-3000}:3000"
    volumes:
      - ./workspace/frontend:/app
      - /app/node_modules
    depends_on:
      - backend
    networks:
      - app-network
    command: npm run dev

volumes:
  postgres_data:

networks:
  app-network:
    driver: bridge
```

#### 2. .env (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ)
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
PROJECT_NAME=myproject

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
DB_NAME=myproject_db
DB_USER=admin
DB_PASSWORD=secure-password-here
DB_PORT=5432

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
FRONTEND_PORT=3000
BACKEND_PORT=8000
JWT_SECRET=change-this-in-production

# é–‹ç™ºç’°å¢ƒè¨­å®š
NODE_ENV=development
```

#### 3. workspace/backend/Dockerfile
```dockerfile
FROM node:18-alpine

WORKDIR /app

# package.json ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
COPY package*.json ./
RUN npm ci

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼
COPY . .

# Prisma ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ
RUN npx prisma generate

EXPOSE 8000

CMD ["npm", "run", "dev"]
```

#### 4. workspace/frontend/Dockerfile
```dockerfile
FROM node:18-alpine

WORKDIR /app

# package.json ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
COPY package*.json ./
RUN npm ci

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼
COPY . .

EXPOSE 3000

CMD ["npm", "run", "dev"]
```

### ğŸš€ æ®µéšåˆ¥ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

#### Step 1: åŸºæœ¬æ§‹é€ ä½œæˆ
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir my-new-project
cd my-new-project

# åŸºæœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ
mkdir -p workspace/frontend workspace/backend infrastructure/docker

# docs/ ãƒ•ã‚©ãƒ«ãƒ€ã‚’æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒ¼
cp -r /path/to/source/docs ./

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
# (ä¸Šè¨˜ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å„ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜)
```

#### Step 2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆæœŸåŒ–
```bash
cd workspace/frontend

# Vue.js + TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npm create vue@latest . -- --typescript --router --pinia --eslint

# Element Plus ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install element-plus
npm install -D unplugin-vue-components unplugin-auto-import

# Viteè¨­å®šæ›´æ–° (vite.config.ts)
# Element Plus è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨­å®šè¿½åŠ 
```

#### Step 3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆæœŸåŒ–
```bash
cd workspace/backend

# Node.js + TypeScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
npm init -y
npm install express cors helmet morgan express-validator
npm install jsonwebtoken bcryptjs prisma @prisma/client
npm install -D typescript @types/node @types/express
npm install -D @types/jsonwebtoken @types/bcryptjs nodemon ts-node

# TypeScriptè¨­å®š
npx tsc --init

# PrismaåˆæœŸåŒ–
npx prisma init
```

#### Step 4: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»èªè¨¼ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
docker-compose up -d postgres

# Prisma ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
cd workspace/backend
npx prisma migrate dev --name init

# åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
npx prisma db seed
```

#### Step 5: é–‹ç™ºç’°å¢ƒèµ·å‹•ãƒ»ç¢ºèª
```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
docker-compose up -d

# ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª
curl http://localhost:3000  # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
curl http://localhost:8000/health  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API

# ãƒ­ã‚°ç¢ºèª
docker-compose logs -f frontend
docker-compose logs -f backend
```

---

## ğŸ“ˆ æ¨™æº–é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ğŸ”„ æ—¥å¸¸ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼ï¼ˆç§»æ¤å¯¾å¿œï¼‰

#### 1. **ç’°å¢ƒèµ·å‹•ãƒ»ç¢ºèª**
```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
docker-compose up -d

# ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
docker-compose ps

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl http://localhost:8000/health  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
curl http://localhost:3000         # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

# ãƒ­ã‚°ç›£è¦– (é–‹ç™ºä¸­)
docker-compose logs -f frontend
docker-compose logs -f backend
```

#### 2. **æ©Ÿèƒ½é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒä½œæˆ**
```bash
# æœ€æ–°ã® main ãƒ–ãƒ©ãƒ³ãƒã‚’å–å¾—
git checkout main
git pull origin main

# æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ (å‘½åè¦ç´„æº–æ‹ )
git checkout -b feature/user-authentication
git checkout -b bugfix/login-validation-error
git checkout -b hotfix/security-patch
```

#### 3. **é–‹ç™ºä½œæ¥­ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–**
```bash
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º (è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰)
cd workspace/frontend
# Vue.js ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›† â†’ ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•æ›´æ–°
# TypeScript å‹ãƒã‚§ãƒƒã‚¯ â†’ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º (è‡ªå‹•å†èµ·å‹•)
cd workspace/backend
# Express.js ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›† â†’ ã‚µãƒ¼ãƒãƒ¼è‡ªå‹•å†èµ·å‹•
# Prisma Schema å¤‰æ›´ â†’ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ
```

#### 4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ (Prisma)**
```bash
# æ–°ã—ã„ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
docker-compose exec backend npx prisma migrate dev --name add_user_profile

# ã‚¹ã‚­ãƒ¼ãƒã®ç›´æ¥é©ç”¨ (é–‹ç™ºç’°å¢ƒã®ã¿)
docker-compose exec backend npx prisma db push

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ç”»é¢èµ·å‹•
docker-compose exec backend npx prisma studio
# â†’ http://localhost:5555 ã§ã‚¢ã‚¯ã‚»ã‚¹

# Prisma Client å†ç”Ÿæˆ (ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´å¾Œ)
docker-compose exec backend npx prisma generate
```

#### 5. **å“è³ªãƒã‚§ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
```bash
# TypeScriptå‹ãƒã‚§ãƒƒã‚¯
cd workspace/frontend && npm run type-check
cd workspace/backend && npm run type-check

# ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ»ãƒªãƒ³ãƒˆ
cd workspace/frontend && npm run lint:fix
cd workspace/backend && npm run lint:fix

# å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
cd workspace/frontend && npm test
cd workspace/backend && npm test

# E2E ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
npm run test:e2e
```

#### 6. **ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**
```bash
# å¤‰æ›´å†…å®¹ç¢ºèª
git status
git diff

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add .

# ã‚³ãƒŸãƒƒãƒˆ (è¦ç´„æº–æ‹ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)
git commit -m "feat: implement user authentication with JWT"
git commit -m "fix: resolve login validation error"
git commit -m "hotfix: patch SQL injection vulnerability"

# ãƒªãƒ¢ãƒ¼ãƒˆãƒ—ãƒƒã‚·ãƒ¥
git push origin feature/user-authentication

# ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ (GitHub/GitLabç­‰)
```

### ğŸŒ¿ æ¨™æº–ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ (Git Flow)

#### ãƒ–ãƒ©ãƒ³ãƒæ§‹é€ 
```mermaid
gitgraph
    commit id: "Initial"
    branch develop
    commit id: "Dev Setup"

    branch feature/user-auth
    commit id: "Auth Feature"
    checkout develop
    merge feature/user-auth

    branch release/v1.0.0
    commit id: "Release Prep"
    checkout main
    merge release/v1.0.0
    tag: "v1.0.0"

    checkout develop
    merge main

    checkout main
    branch hotfix/security
    commit id: "Security Fix"
    checkout main
    merge hotfix/security
    tag: "v1.0.1"

    checkout develop
    merge main
```

#### ğŸ“‹ ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡ (å¿…é ˆ)
```yaml
åŸºæœ¬å½¢å¼: [type]/[scope]/[description]

ä¸»è¦ã‚¿ã‚¤ãƒ—:
  - feature/   : æ–°æ©Ÿèƒ½é–‹ç™º
  - bugfix/    : ãƒã‚°ä¿®æ­£
  - hotfix/    : ç·Šæ€¥ä¿®æ­£ (æœ¬ç•ªå•é¡Œ)
  - release/   : ãƒªãƒªãƒ¼ã‚¹æº–å‚™
  - chore/     : ä¿å®ˆãƒ»è¨­å®šå¤‰æ›´
  - docs/      : ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

å‘½åä¾‹:
  - feature/auth/jwt-implementation
  - feature/ui/responsive-dashboard
  - bugfix/api/validation-error
  - hotfix/security/sql-injection
  - release/v1.2.0
  - chore/deps/update-packages
  - docs/api/endpoint-documentation
```

#### ğŸ”„ ãƒ–ãƒ©ãƒ³ãƒãƒ•ãƒ­ãƒ¼æ‰‹é †
```bash
# 1. æ©Ÿèƒ½é–‹ç™ºé–‹å§‹
git checkout develop
git pull origin develop
git checkout -b feature/auth/jwt-implementation

# 2. é–‹ç™ºãƒ»ã‚³ãƒŸãƒƒãƒˆ
# ... é–‹ç™ºä½œæ¥­ ...
git commit -m "feat(auth): implement JWT token generation"

# 3. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
git push origin feature/auth/jwt-implementation
# â†’ GitHub/GitLab ã§PRä½œæˆ

# 4. ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒãƒ¼ã‚¸å¾Œ
git checkout develop
git pull origin develop
git branch -d feature/auth/jwt-implementation

# 5. ãƒªãƒªãƒ¼ã‚¹æº–å‚™
git checkout -b release/v1.0.0
# ... æœ€çµ‚èª¿æ•´ ...
git checkout main
git merge release/v1.0.0
git tag v1.0.0

# 6. ç·Šæ€¥ä¿®æ­£ (ãƒ›ãƒƒãƒˆãƒ•ã‚£ãƒƒã‚¯ã‚¹)
git checkout main
git checkout -b hotfix/security/csrf-protection
# ... ä¿®æ­£ ...
git checkout main
git merge hotfix/security/csrf-protection
git tag v1.0.1
```

## ğŸ“ çµ±ä¸€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### ğŸ¯ TypeScript/JavaScript è¦ç´„

#### ğŸ“‹ å‘½åè¦å‰‡ (å³æ ¼éµå®ˆ)
```typescript
// âœ… å¤‰æ•°ãƒ»é–¢æ•°: camelCase (æ¨å¥¨)
const userName = 'john_doe'
const getCurrentUser = () => {}
const calculateTotalAmount = (items: Item[]) => {}

// âœ… å®šæ•°: UPPER_SNAKE_CASE (å¿…é ˆ)
const API_BASE_URL = 'http://localhost:8000'
const MAX_RETRY_ATTEMPTS = 3
const DEFAULT_PAGE_SIZE = 20

// âœ… ã‚¯ãƒ©ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼faceãƒ»å‹: PascalCase (å¿…é ˆ)
class UserService {}
interface UserData {}
type ResponseStatus = 'success' | 'error' | 'pending'

// âœ… ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå: kebab-case (å¿…é ˆ)
user-management.vue
api-client.ts
user-profile/
auth-middleware/

// âœ… ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå: PascalCase (Vue.js)
UserProfile.vue
LoginForm.vue
NavigationMenu.vue

// âŒ ä½¿ç”¨ç¦æ­¢ãƒ‘ã‚¿ãƒ¼ãƒ³
const user_name = 'bad'      // snake_case
const GETDATA = () => {}     // å…¨å¤§æ–‡å­—
interface userData {}       // camelCase interface
class userService {}        // camelCase class
```

#### ğŸ”§ TypeScript å‹å®šç¾©è¦ç´„
```typescript
// âœ… æ¨å¥¨: æ˜ç¤ºçš„ãƒ»å…·ä½“çš„ãªå‹å®šç¾©
interface User {
  id: number
  username: string
  email: string
  role: UserRole
  isActive: boolean
  createdAt: Date
  updatedAt: Date
}

// âœ… Enumå®šç¾© (æ˜ç¢ºãªå€¤æŒ‡å®š)
enum UserRole {
  ADMIN = 'ADMIN',
  USER = 'USER',
  GUEST = 'GUEST'
}

// âœ… Unionå‹ (å‹å®‰å…¨ãªé¸æŠè‚¢)
type ResponseStatus = 'loading' | 'success' | 'error'
type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'

// âœ… Genericå‹ (å†åˆ©ç”¨å¯èƒ½ãªå‹)
interface ApiResponse<T> {
  success: boolean
  data: T
  message?: string
  errors?: string[]
}

// âœ… é–¢æ•°å‹å®šç¾© (å¼•æ•°ãƒ»æˆ»ã‚Šå€¤æ˜è¨˜)
type UserValidator = (user: Partial<User>) => Promise<ValidationResult>
type EventHandler<T> = (event: T) => void

// âœ… Propså®šç¾© (Vue.js - withDefaultsä½¿ç”¨)
interface Props {
  user: User
  isEditable?: boolean
  onSave?: (user: User) => void
}

const props = withDefaults(defineProps<Props>(), {
  isEditable: false,
  onSave: undefined
})

// âŒ é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³
const data: any = {}           // any å‹ã®å¤šç”¨
interface Props {              // ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‹ã®ä¹±ç”¨
  value?: string | undefined
}
```

#### ğŸ“¦ Import/Export é †åºè¦ç´„ (å¿…é ˆéµå®ˆãƒ»å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªå¯¾å¿œ)
```typescript
// âœ… æ¨™æº–çš„ãª Import é †åºï¼ˆ3å±¤åˆ†é›¢å¯¾å¿œï¼‰
// 1. Node.js æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
import fs from 'fs'
import path from 'path'
import { createHash } from 'crypto'

// 2. å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (node_modules)
import express, { Request, Response } from 'express'
import { PrismaClient } from '@prisma/client'
import jwt from 'jsonwebtoken'
import bcrypt from 'bcryptjs'

// 3. å…±é€šã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (å¤‰æ›´ç¦æ­¢ãƒ»@core ã‚¨ã‚¤ãƒªã‚¢ã‚¹å¿…é ˆ)
import { prisma } from '@core/lib/prisma'
import { authenticate, authorize } from '@core/middleware/auth'
import { LogController } from '@core/controllers/LogController'
import type { User, UserRole } from '@core/types/user'

// 4. æ‹¡å¼µãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãƒ»@extensions ã‚¨ã‚¤ãƒªã‚¢ã‚¹)
import { customAuthMiddleware } from '@extensions/middleware/customAuth'
import { ValidationService } from '@extensions/services/validation'

// 5. ä¼æ¥­å›ºæœ‰ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (è‡ªç”±å®Ÿè£…ãƒ»@custom ã‚¨ã‚¤ãƒªã‚¢ã‚¹)
import { SalesReportService } from '@custom/services/SalesReportService'
import { InventoryController } from '@custom/controllers/InventoryController'
import type { SalesData } from '@custom/types/sales'

// 6. ç›¸å¯¾ã‚¤ãƒ³ãƒãƒ¼ãƒˆ (åŒä¸€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ»è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)
import { UserService } from './services/user'
import { validateInput } from '../utils/validation'
import type { LocalConfig } from './types'

// âœ… Export ãƒ‘ã‚¿ãƒ¼ãƒ³
// Named Export (æ¨å¥¨ - tree shakingå¯¾å¿œ)
export const userService = new UserService()
export const createUser = async (data: CreateUserData) => {}
export type { User, UserRole }

// Default Export (ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹ã®ã¿)
export default class AuthService {}

// âŒ é¿ã‘ã‚‹ã¹ããƒ‘ã‚¿ãƒ¼ãƒ³
import * as everything from 'library'  // å…¨ä½“ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
export * from './module'               // å…¨ä½“ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
import { prisma } from '../core/lib/prisma'  // âŒ ç›¸å¯¾ãƒ‘ã‚¹ç¦æ­¢ï¼ˆ@coreä½¿ç”¨ï¼‰
import { CustomService } from '../../custom/services/CustomService'  // âŒ (@customä½¿ç”¨)
```

#### ğŸ—ï¸ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ è¦ç´„
```typescript
// âœ… æ¨™æº–ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

// === ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API ãƒ•ã‚¡ã‚¤ãƒ« ===
/*
1. Import statements
2. Type definitions
3. Constants
4. Middleware functions
5. Route handlers
6. Export statements
*/

// === ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ Vue Component ===
/*
<template>
  <!-- HTML template -->
</template>

<script setup lang="ts">
// 1. Imports
// 2. Props & Emits
// 3. Reactive data
// 4. Computed properties
// 5. Methods
// 6. Lifecycle hooks
// 7. Watchers
</script>

<style scoped>
/* Component-specific styles */
</style>
*/

// === TypeScript Service Class ===
/*
1. Imports
2. Types/Interfaces
3. Constants
4. Class definition
   - Properties
   - Constructor
   - Public methods
   - Private methods
5. Export
*/
```

### ğŸ¨ Vue.js 3 + Element Plus è¦ç´„

#### ğŸ“‹ æ¨™æº–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€  (å¿…é ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ)
```vue
<template>
  <!-- âœ… Element Plus ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨ -->
  <el-card class="user-profile-card">
    <template #header>
      <div class="card-header">
        <span>{{ title }}</span>
        <el-button v-if="isEditable" type="primary" @click="handleSave">
          ä¿å­˜
        </el-button>
      </div>
    </template>

    <!-- âœ… æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° -->
    <el-form v-if="user" ref="formRef" :model="formData" :rules="rules">
      <el-form-item label="ãƒ¦ãƒ¼ã‚¶ãƒ¼å" prop="username">
        <el-input v-model="formData.username" :disabled="!isEditable" />
      </el-form-item>
    </el-form>

    <!-- âœ… ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ -->
    <el-skeleton v-else :loading="isLoading" animated>
      <template #template>
        <el-skeleton-item variant="text" style="width: 100%" />
      </template>
    </el-skeleton>
  </el-card>
</template>

<script setup lang="ts">
// âœ… æ¨™æº–çš„ãªæ§‹é€ é †åº (å¿…é ˆ)
// 1. Imports
import { ref, computed, onMounted, watch } from 'vue'
import type { FormInstance, FormRules } from 'element-plus'
import { ElMessage } from 'element-plus'
import type { User } from '@/types/user'

// 2. Propså®šç¾© (å‹å®‰å…¨ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤)
interface Props {
  user: User | null
  isEditable?: boolean
  title?: string
}

const props = withDefaults(defineProps<Props>(), {
  isEditable: false,
  title: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«'
})

// 3. Emitså®šç¾© (å‹å®‰å…¨ãªã‚¤ãƒ™ãƒ³ãƒˆ)
interface Emits {
  (e: 'update:user', user: User): void
  (e: 'save', data: Partial<User>): void
  (e: 'delete', id: number): void
}

const emit = defineEmits<Emits>()

// 4. Reactive Data (ref/reactive)
const formRef = ref<FormInstance>()
const isLoading = ref(false)
const formData = ref<Partial<User>>({
  username: '',
  email: ''
})

// 5. Computed Properties
const isFormValid = computed(() => {
  return formData.value.username && formData.value.email
})

const displayName = computed(() => {
  return props.user?.username || 'Unknown User'
})

// 6. Methods (async/await ãƒ‘ã‚¿ãƒ¼ãƒ³)
const handleSave = async () => {
  if (!formRef.value) return

  try {
    const isValid = await formRef.value.validate()
    if (!isValid) return

    isLoading.value = true
    emit('save', formData.value)
    ElMessage.success('ä¿å­˜ã—ã¾ã—ãŸ')
  } catch (error) {
    ElMessage.error('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ')
    console.error('Save error:', error)
  } finally {
    isLoading.value = false
  }
}

const resetForm = () => {
  formRef.value?.resetFields()
}

// 7. Lifecycle Hooks
onMounted(() => {
  if (props.user) {
    formData.value = { ...props.user }
  }
})

// 8. Watchers
watch(
  () => props.user,
  (newUser) => {
    if (newUser) {
      formData.value = { ...newUser }
    }
  },
  { deep: true }
)

// 9. Form Validation Rules
const rules: FormRules = {
  username: [
    { required: true, message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯å¿…é ˆã§ã™', trigger: 'blur' },
    { min: 3, max: 20, message: '3-20æ–‡å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„', trigger: 'blur' }
  ],
  email: [
    { required: true, message: 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™', trigger: 'blur' },
    { type: 'email', message: 'æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', trigger: 'blur' }
  ]
}
</script>

<style scoped>
/* âœ… BEMã‚¹ã‚¿ã‚¤ãƒ«å‘½åè¦ç´„ */
.user-profile-card {
  margin: 20px;
  box-shadow: var(--el-box-shadow-light);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
@media (max-width: 768px) {
  .user-profile-card {
    margin: 10px;
  }

  .card-header {
    flex-direction: column;
    gap: 10px;
  }
}

/* âœ… ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ */
.user-profile-card:focus-within {
  outline: 2px solid var(--el-color-primary);
  outline-offset: 2px;
}
</style>
```

#### ğŸ”§ Element Plus çµ±åˆè¦ç´„
```typescript
// âœ… è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨­å®š (vite.config.ts)
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      resolvers: [ElementPlusResolver()],
      imports: ['vue', 'vue-router', 'pinia']
    }),
    Components({
      resolvers: [ElementPlusResolver()],
    }),
  ],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src')
    }
  }
})

// âœ… ãƒ†ãƒ¼ãƒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º (main.ts)
import 'element-plus/theme-chalk/dark/css-vars.css'
import '@/styles/element-plus-custom.scss'

// âœ… å›½éš›åŒ–è¨­å®š
import { createApp } from 'vue'
import ElementPlus from 'element-plus'
import jaJP from 'element-plus/es/locale/lang/ja'

const app = createApp(App)
app.use(ElementPlus, { locale: jaJP })
```

### ğŸš€ Express.js + Prisma è¦ç´„

#### ğŸ“‹ RESTful API è¨­è¨ˆè¦ç´„ (ç§»æ¤ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ)
```typescript
// âœ… æ¨™æº–çš„ãªRESTful APIè¨­è¨ˆ
GET    /api/users              // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾— (ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ)
POST   /api/users              // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
GET    /api/users/:id          // ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°å–å¾—
PUT    /api/users/:id          // ãƒ¦ãƒ¼ã‚¶ãƒ¼å®Œå…¨æ›´æ–°
PATCH  /api/users/:id          // ãƒ¦ãƒ¼ã‚¶ãƒ¼éƒ¨åˆ†æ›´æ–°
DELETE /api/users/:id          // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤

// âœ… èªè¨¼ãƒ»èªå¯API
POST   /api/auth/login         // ãƒ­ã‚°ã‚¤ãƒ³
POST   /api/auth/logout        // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
POST   /api/auth/refresh       // ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
GET    /api/auth/me            // ç¾åœ¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

// âœ… ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»ç®¡ç†API
GET    /health                 // ã‚µãƒ¼ãƒ“ã‚¹ç¨¼åƒç¢ºèª
GET    /api/health             // APIç¨¼åƒç¢ºèª
GET    /api/version            // ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±

// âœ… æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œ
GET    /api/users?page=1&limit=20&search=john&role=ADMIN
GET    /api/users?sort=createdAt:desc&filter=isActive:true
```

#### ğŸ”§ æ¨™æº–APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```typescript
// âœ… users.ts (å®Œå…¨ãªAPIå®Ÿè£…ä¾‹)
import express, { Request, Response, NextFunction } from 'express'
import { body, query, param, validationResult } from 'express-validator'
import { prisma } from '../lib/prisma'  // å¿…é ˆ: çµ±ä¸€Prismaã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
import { authenticate, authorize } from '../middleware/auth'
import type { User, UserRole } from '@prisma/client'

const router = express.Router()

// âœ… çµ±ä¸€ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹å®šç¾© (å¿…é ˆ)
interface ApiResponse<T = any> {
  success: boolean
  data?: T
  message?: string
  errors?: string[]
  pagination?: {
    page: number
    limit: number
    total: number
    totalPages: number
  }
}

// âœ… çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‹ (å¿…é ˆå®Ÿè£…)
interface StandardErrorResponse {
  success: false
  error: {
    code: string          // ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: USER_NOT_FOUNDï¼‰
    message: string       // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    details?: any         // è©³ç´°æƒ…å ±ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
    timestamp: string     // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚åˆ»
    requestId: string     // ãƒªã‚¯ã‚¨ã‚¹ãƒˆè¿½è·¡ID
  }
}

// âœ… ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¦å‰‡
const createUserValidation = [
  body('username')
    .isLength({ min: 3, max: 20 })
    .withMessage('ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯3-20æ–‡å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„')
    .matches(/^[a-zA-Z0-9_]+$/)
    .withMessage('ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ä½¿ç”¨å¯èƒ½ã§ã™'),
  body('email')
    .isEmail()
    .withMessage('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„')
    .normalizeEmail(),
  body('password')
    .isLength({ min: 8 })
    .withMessage('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„')
    .matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/)
    .withMessage('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å¤§æ–‡å­—ãƒ»å°æ–‡å­—ãƒ»æ•°å­—ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™'),
  body('role')
    .optional()
    .isIn(['ADMIN', 'USER', 'GUEST'])
    .withMessage('æœ‰åŠ¹ãªæ¨©é™ã‚’æŒ‡å®šã—ã¦ãã ã•ã„')
]

const getUsersValidation = [
  query('page')
    .optional()
    .isInt({ min: 1 })
    .withMessage('ãƒšãƒ¼ã‚¸ç•ªå·ã¯1ä»¥ä¸Šã®æ•´æ•°ã§æŒ‡å®šã—ã¦ãã ã•ã„'),
  query('limit')
    .optional()
    .isInt({ min: 1, max: 100 })
    .withMessage('å–å¾—ä»¶æ•°ã¯1-100ã®ç¯„å›²ã§æŒ‡å®šã—ã¦ãã ã•ã„'),
  query('search')
    .optional()
    .isLength({ max: 100 })
    .withMessage('æ¤œç´¢æ–‡å­—åˆ—ã¯100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„'),
  query('role')
    .optional()
    .isIn(['ADMIN', 'USER', 'GUEST'])
    .withMessage('æœ‰åŠ¹ãªæ¨©é™ã‚’æŒ‡å®šã—ã¦ãã ã•ã„')
]

// âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾— (ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æ¤œç´¢å¯¾å¿œ)
router.get('/',
  authenticate,
  getUsersValidation,
  async (req: Request, res: Response, next: NextFunction) => {
    try {
      const page = parseInt(req.query.page as string) || 1
      const limit = parseInt(req.query.limit as string) || 20
      const search = req.query.search as string
      const role = req.query.role as UserRole
      const offset = (page - 1) * limit

      // æ¤œç´¢æ¡ä»¶æ§‹ç¯‰
      const where: any = {}
      if (search) {
        where.OR = [
          { username: { contains: search, mode: 'insensitive' } },
          { email: { contains: search, mode: 'insensitive' } }
        ]
      }
      if (role) {
        where.role = role
      }

      // ãƒ‡ãƒ¼ã‚¿å–å¾— (ä¸¦åˆ—å®Ÿè¡Œã§åŠ¹ç‡åŒ–)
      const [users, total] = await Promise.all([
        prisma.user.findMany({
          where,
          select: {
            id: true,
            username: true,
            email: true,
            role: true,
            isActive: true,
            createdAt: true,
            updatedAt: true
            // password ã¯å«ã‚ãªã„ (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
          },
          orderBy: { createdAt: 'desc' },
          take: limit,
          skip: offset
        }),
        prisma.user.count({ where })
      ])

      const response: ApiResponse<User[]> = {
        success: true,
        data: users,
        pagination: {
          page,
          limit,
          total,
          totalPages: Math.ceil(total / limit)
        }
      }

      res.json(response)
    } catch (error) {
      next(error)
    }
  }
)

// âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
router.post('/',
  authenticate,
  authorize(['ADMIN']),  // ç®¡ç†è€…ã®ã¿
  createUserValidation,
  async (req: Request, res: Response, next: NextFunction) => {
    try {
      const errors = validationResult(req)
      if (!errors.isEmpty()) {
        const response: ApiResponse = {
          success: false,
          message: 'ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
          errors: errors.array().map(err => err.msg)
        }
        return res.status(400).json(response)
      }

      const { username, email, password, role = 'USER' } = req.body

      // é‡è¤‡ãƒã‚§ãƒƒã‚¯
      const existingUser = await prisma.user.findFirst({
        where: {
          OR: [
            { username },
            { email }
          ]
        }
      })

      if (existingUser) {
        const response: ApiResponse = {
          success: false,
          message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¾ãŸã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™'
        }
        return res.status(409).json(response)
      }

      // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
      const bcrypt = require('bcryptjs')
      const hashedPassword = await bcrypt.hash(password, 12)

      // ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
      const user = await prisma.user.create({
        data: {
          username,
          email,
          password: hashedPassword,
          role,
          isActive: true
        },
        select: {
          id: true,
          username: true,
          email: true,
          role: true,
          isActive: true,
          createdAt: true,
          updatedAt: true
        }
      })

      const response: ApiResponse<User> = {
        success: true,
        data: user,
        message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã—ãŸ'
      }

      res.status(201).json(response)
    } catch (error) {
      next(error)
    }
  }
)

// âœ… ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export default router
```

#### æ¨™æº–ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆå¿…é ˆå®Ÿè£…ï¼‰
```typescript
// çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆå…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…±é€šï¼‰
interface StandardErrorResponse {
  success: false
  error: {
    code: string          // ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹: USER_NOT_FOUNDï¼‰
    message: string       // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    details?: any         // è©³ç´°æƒ…å ±ï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
    timestamp: string     // ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚åˆ»
    requestId: string     // ãƒªã‚¯ã‚¨ã‚¹ãƒˆè¿½è·¡ID
  }
}

// æ¨™æº–ã‚¨ãƒ©ãƒ¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆå¿…é ˆå®Ÿè£…ï¼‰
app.use((err: Error, req: Request, res: Response, next: NextFunction) => {
  const requestId = req.headers['x-request-id'] || Math.random().toString(36)

  const response: StandardErrorResponse = {
    success: false,
    error: {
      code: err.name || 'INTERNAL_ERROR',
      message: err.message,
      timestamp: new Date().toISOString(),
      requestId: requestId as string
    }
  }

  // é–‹ç™ºç’°å¢ƒã§ã®ã¿ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹è¿½åŠ 
  if (process.env.NODE_ENV === 'development') {
    response.error.details = { stack: err.stack }
  }

  // ãƒ­ã‚°å‡ºåŠ›ï¼ˆæœ¬ç•ªç’°å¢ƒç›£è¦–ç”¨ï¼‰
  console.error(`[${requestId}] ${err.name}: ${err.message}`, {
    stack: err.stack,
    url: req.url,
    method: req.method,
    ip: req.ip
  })

  res.status(err.statusCode || 500).json(response)
})
```

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
```typescript
import { body, validationResult } from 'express-validator'

// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«
export const createUserValidation = [
  body('username')
    .isLength({ min: 3, max: 20 })
    .withMessage('ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¯3-20æ–‡å­—ã§å…¥åŠ›ã—ã¦ãã ã•ã„'),
  body('email')
    .isEmail()
    .withMessage('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„'),
  body('password')
    .isLength({ min: 6 })
    .withMessage('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯6æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„')
]

// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†
export const handleValidation = (req: Request, res: Response, next: NextFunction) => {
  const errors = validationResult(req)
  if (!errors.isEmpty()) {
    return res.status(400).json({ errors: errors.array() })
  }
  next()
}
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¦ç´„

### Prisma Schema
```prisma
// ãƒ¢ãƒ‡ãƒ«å®šç¾©
model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  email     String   @unique
  password  String
  name      String
  role      UserRole @default(USER)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users") // ãƒ†ãƒ¼ãƒ–ãƒ«åã‚’ã‚¹ãƒãƒ¼ã‚¯ã‚±ãƒ¼ã‚¹
}

// Enumå®šç¾©
enum UserRole {
  ADMIN
  USER
  GUEST
}
```

### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ
npx prisma migrate dev --name add_user_table

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨
npx prisma migrate deploy

# ã‚¹ã‚­ãƒ¼ãƒãƒªã‚»ãƒƒãƒˆï¼ˆé–‹ç™ºç’°å¢ƒã®ã¿ï¼‰
npx prisma migrate reset
```

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ ãƒ†ã‚¹ãƒˆ
```typescript
// Unit Test (Vitest)
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import UserCard from '@/components/UserCard.vue'

describe('UserCard', () => {
  it('displays user information correctly', () => {
    const user = { id: 1, name: 'John Doe', email: 'john@example.com' }
    const wrapper = mount(UserCard, { props: { user } })

    expect(wrapper.text()).toContain('John Doe')
    expect(wrapper.text()).toContain('john@example.com')
  })
})

// E2E Test (Playwright)
import { test, expect } from '@playwright/test'

test('user login flow', async ({ page }) => {
  await page.goto('http://localhost:3000/login')
  await page.fill('[data-testid="username"]', 'admin')
  await page.fill('[data-testid="password"]', 'password')
  await page.click('[data-testid="login-button"]')
  await expect(page).toHaveURL('/dashboard')
})
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ ãƒ†ã‚¹ãƒˆ
```typescript
// Unit Test (Jest)
import { UserService } from '../services/user'
import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()
const userService = new UserService(prisma)

describe('UserService', () => {
  it('creates user successfully', async () => {
    const userData = {
      username: 'testuser',
      email: 'test@example.com',
      password: 'password123',
      name: 'Test User'
    }

    const user = await userService.createUser(userData)
    expect(user.username).toBe('testuser')
    expect(user.email).toBe('test@example.com')
  })
})

// Integration Test
import request from 'supertest'
import app from '../app'

describe('POST /api/users', () => {
  it('creates user with valid data', async () => {
    const response = await request(app)
      .post('/api/users')
      .send({
        username: 'newuser',
        email: 'new@example.com',
        password: 'password123',
        name: 'New User'
      })
      .expect(201)

    expect(response.body.username).toBe('newuser')
  })
})
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–

#### ã‚³ãƒ¼ãƒ‰åˆ†å‰²
```typescript
// ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã‚³ãƒ¼ãƒ‰åˆ†å‰²
const Dashboard = () => import('@/views/Dashboard.vue')
const Users = () => import('@/views/Users.vue')

const routes = [
  { path: '/dashboard', component: Dashboard },
  { path: '/users', component: Users }
]
```

#### çŠ¶æ…‹ç®¡ç†æœ€é©åŒ–
```typescript
// Pinia Store
export const useUserStore = defineStore('user', () => {
  const users = ref<User[]>([])
  const loading = ref(false)

  // Computed (è‡ªå‹•ã‚­ãƒ£ãƒƒã‚·ãƒ¥)
  const activeUsers = computed(() =>
    users.value.filter(user => user.isActive)
  )

  // Actions
  const fetchUsers = async () => {
    if (loading.value) return // é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆé˜²æ­¢

    loading.value = true
    try {
      const response = await api.get('/users')
      users.value = response.data
    } finally {
      loading.value = false
    }
  }

  return { users, loading, activeUsers, fetchUsers }
})
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ€é©åŒ–

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªæœ€é©åŒ–
```typescript
// åŠ¹ç‡çš„ãªã‚¯ã‚¨ãƒª
const getUsersWithPosts = await prisma.user.findMany({
  select: {
    id: true,
    username: true,
    email: true,
    _count: {
      select: { posts: true }
    }
  },
  where: {
    isActive: true
  },
  orderBy: {
    createdAt: 'desc'
  },
  take: 20,
  skip: offset
})

// N+1å•é¡Œã®å›é¿
const usersWithPosts = await prisma.user.findMany({
  include: {
    posts: {
      take: 5,
      orderBy: { createdAt: 'desc' }
    }
  }
})
```

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
```typescript
// ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥
const cache = new Map<string, any>()

const getCachedUser = async (id: number): Promise<User> => {
  const cacheKey = `user:${id}`

  if (cache.has(cacheKey)) {
    return cache.get(cacheKey)
  }

  const user = await prisma.user.findUnique({ where: { id } })
  cache.set(cacheKey, user)

  return user
}
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### èªè¨¼ãƒ»èªå¯
```typescript
// JWTå®Ÿè£…
const generateToken = (user: User): string => {
  return jwt.sign(
    { userId: user.id, username: user.username, role: user.role },
    process.env.JWT_SECRET!,
    { expiresIn: '7d' }
  )
}

// èªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
const authenticate = (req: Request, res: Response, next: NextFunction) => {
  const token = req.header('Authorization')?.replace('Bearer ', '')

  if (!token) {
    return res.status(401).json({ message: 'èªè¨¼ãŒå¿…è¦ã§ã™' })
  }

  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET!)
    req.user = decoded
    next()
  } catch (error) {
    res.status(401).json({ message: 'ç„¡åŠ¹ãªãƒˆãƒ¼ã‚¯ãƒ³ã§ã™' })
  }
}
```

### ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
```typescript
// å…¥åŠ›ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
import validator from 'validator'

const sanitizeInput = (input: string): string => {
  return validator.escape(validator.trim(input))
}

// SQL Injectioné˜²æ­¢ï¼ˆPrismaï¼‰
const getUserById = async (id: number) => {
  // Prismaã¯è‡ªå‹•çš„ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
  return await prisma.user.findUnique({
    where: { id } // å®‰å…¨
  })
}
```

## ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™

### ç’°å¢ƒå¤‰æ•°ç®¡ç†
```bash
# development
NODE_ENV=development
DATABASE_URL=postgresql://admin:password@postgres:5432/websys_db_dev
JWT_SECRET=dev-secret-key

# production
NODE_ENV=production
DATABASE_URL=postgresql://admin:secure-password@db.example.com:5432/websys_db_prod
JWT_SECRET=production-secure-secret-key
```

### ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–
```typescript
// vite.config.ts (production)
export default defineConfig({
  build: {
    minify: 'terser',
    rollupOptions: {
      output: {
        chunkFileNames: 'assets/[name]-[hash].js',
        entryFileNames: 'assets/[name]-[hash].js',
        assetFileNames: 'assets/[name]-[hash].[ext]'
      }
    }
  }
})
```

## ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### GitHub Actionsä¾‹
```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'

      - name: Install dependencies
        run: |
          cd workspace/frontend && npm ci
          cd workspace/backend && npm ci

      - name: Run tests
        run: |
          cd workspace/frontend && npm run test
          cd workspace/backend && npm run test

      - name: Build
        run: |
          cd workspace/frontend && npm run build
          cd workspace/backend && npm run build
```

---

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»æ¤å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ğŸ“‹ Phase 1: åŸºæœ¬ç’°å¢ƒæ§‹ç¯‰
```yaml
â–¡ ç’°å¢ƒè¦ä»¶:
  â–¡ Docker 20.10+ ç¢ºèªæ¸ˆã¿
  â–¡ Docker Compose 2.0+ ç¢ºèªæ¸ˆã¿
  â–¡ Git 2.30+ ç¢ºèªæ¸ˆã¿
  â–¡ Node.js 18+ ç¢ºèªæ¸ˆã¿ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

â–¡ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ :
  â–¡ workspace/frontend/ ä½œæˆå®Œäº†
  â–¡ workspace/backend/ ä½œæˆå®Œäº†
  â–¡ docs/ ãƒ•ã‚©ãƒ«ãƒ€ã‚³ãƒ”ãƒ¼å®Œäº†
  â–¡ docker-compose.yml é…ç½®å®Œäº†
  â–¡ .env ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šå®Œäº†

â–¡ åŸºæœ¬å‹•ä½œç¢ºèª:
  â–¡ docker-compose up -d æˆåŠŸ
  â–¡ http://localhost:3000 ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
  â–¡ http://localhost:8000/health ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
  â–¡ PostgreSQL æ¥ç¶šæˆåŠŸ
```

### ğŸ“‹ Phase 2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…
```yaml
â–¡ Vue.jsåŸºç›¤:
  â–¡ Vue.js 3.3+ + TypeScript ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
  â–¡ Vue Router 4.0+ è¨­å®šå®Œäº†
  â–¡ Pinia 2.0+ çŠ¶æ…‹ç®¡ç†è¨­å®šå®Œäº†
  â–¡ Vite 4.0+ ãƒ“ãƒ«ãƒ‰è¨­å®šå®Œäº†

â–¡ Element Plusçµ±åˆ:
  â–¡ Element Plus 2.3+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
  â–¡ è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨­å®š (unplugin-vue-components)
  â–¡ æ—¥æœ¬èªãƒ­ã‚±ãƒ¼ãƒ«è¨­å®šå®Œäº†
  â–¡ ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒè¨­å®šå®Œäº†

â–¡ é–‹ç™ºç’°å¢ƒ:
  â–¡ TypeScriptå³æ ¼ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–
  â–¡ ESLint + Prettier è¨­å®šå®Œäº†
  â–¡ ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰å‹•ä½œç¢ºèª
  â–¡ å‹ãƒã‚§ãƒƒã‚¯è‡ªå‹•å®Ÿè¡Œç¢ºèª
```

### ğŸ“‹ Phase 3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…
```yaml
â–¡ Express.jsåŸºç›¤:
  â–¡ Express.js 4.18+ + TypeScript ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
  â–¡ CORSãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šå®Œäº†
  â–¡ ç’°å¢ƒå¤‰æ•°ç®¡ç†è¨­å®šå®Œäº†
  â–¡ ãƒ­ã‚°å‡ºåŠ›è¨­å®šå®Œäº†

â–¡ Prisma ORM:
  â–¡ Prisma 5.0+ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å®Œäº†
  â–¡ schema.prisma è¨­å®šå®Œäº†
  â–¡ åˆæœŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå®Œäº†
  â–¡ Prisma Client ç”Ÿæˆå®Œäº†
  â–¡ çµ±ä¸€Prismaã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨­å®šå®Œäº†

â–¡ èªè¨¼ãƒ»èªå¯:
  â–¡ JWTèªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å®Ÿè£…å®Œäº†
  â–¡ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼APIå®Ÿè£…å®Œäº†
  â–¡ RBACæ¨©é™ç®¡ç†å®Ÿè£…å®Œäº†
  â–¡ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šå®Œäº†
```

### ğŸ“‹ Phase 4: APIå®Ÿè£…ãƒ»å‹•ä½œç¢ºèª
```yaml
â–¡ åŸºæœ¬CRUD API:
  â–¡ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†APIå®Ÿè£…å®Œäº†
  â–¡ èªè¨¼APIå®Ÿè£…å®Œäº†
  â–¡ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…å®Œäº†
  â–¡ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…å®Œäº†
  â–¡ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…å®Œäº†

â–¡ å‹•ä½œç¢ºèª:
  â–¡ å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‹•ä½œç¢ºèª
  â–¡ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰â‡”ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é€šä¿¡ç¢ºèª
  â–¡ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œç¢ºèª
  â–¡ èªè¨¼ãƒ•ãƒ­ãƒ¼å‹•ä½œç¢ºèª
  â–¡ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å‹•ä½œç¢ºèª
```

### ğŸ“‹ Phase 5: å“è³ªãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¢ºèª
```yaml
â–¡ ã‚³ãƒ¼ãƒ‰å“è³ª:
  â–¡ TypeScriptå‹ãƒã‚§ãƒƒã‚¯åˆæ ¼
  â–¡ ESLintæ¤œè¨¼åˆæ ¼
  â–¡ Prettieræ•´å½¢é©ç”¨æ¸ˆã¿
  â–¡ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„æº–æ‹ ç¢ºèª

â–¡ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:
  â–¡ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ç¢ºèª
  â–¡ JWTç½²åãƒ»æ¤œè¨¼ç¢ºèª
  â–¡ CORSé©åˆ‡è¨­å®šç¢ºèª
  â–¡ SQL Injectionå¯¾ç­–ç¢ºèª
  â–¡ XSSå¯¾ç­–ç¢ºèª

â–¡ ãƒ†ã‚¹ãƒˆ:
  â–¡ å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ
  â–¡ çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ
  â–¡ E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  â–¡ è² è·ãƒ†ã‚¹ãƒˆå®Ÿè¡ŒæˆåŠŸ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
```

---

## ğŸ† ç§»æ¤å®Œäº†åˆ¤å®šåŸºæº–

### âœ… æœ€å°è¦ä»¶ (å¿…é ˆ)
1. **åŸºæœ¬æ©Ÿèƒ½å‹•ä½œ**: èªè¨¼ãƒ»CRUDãƒ»ç”»é¢è¡¨ç¤ºã®æ­£å¸¸å‹•ä½œ
2. **ã‚³ãƒ¼ãƒ‰å“è³ª**: TypeScriptå‹ãƒã‚§ãƒƒã‚¯ãƒ»ESLintæ¤œè¨¼åˆæ ¼
3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: åŸºæœ¬çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šå®Œäº†
4. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ»APIä»•æ§˜æ›¸å®Œå‚™

### â­ æ¨å¥¨è¦ä»¶ (é«˜å“è³ª)
1. **ãƒ†ã‚¹ãƒˆ**: å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ80%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸
2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿3ç§’ä»¥å†…
3. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG AAæº–æ‹ 
4. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: å…¨ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ

### ğŸš€ ç™ºå±•è¦ä»¶ (ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚º)
1. **ç›£è¦–**: ãƒ­ã‚°ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
2. **CI/CD**: è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
3. **å›½éš›åŒ–**: å¤šè¨€èªå¯¾å¿œ
4. **æ‹¡å¼µæ€§**: ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹å¯¾å¿œæº–å‚™

---

## ğŸ“ ç§»æ¤æ”¯æ´ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ†˜ ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### ğŸ”§ Dockeré–¢é€£
```bash
# ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•å¤±æ•—
docker-compose down && docker-compose up -d --force-recreate

# ãƒœãƒªãƒ¥ãƒ¼ãƒ å‰Šé™¤
docker-compose down -v && docker-compose up -d

# ãƒ­ã‚°ç¢ºèª
docker-compose logs -f [service-name]
```

#### ğŸ”§ Prismaé–¢é€£
```bash
# ã‚¹ã‚­ãƒ¼ãƒåŒæœŸã‚¨ãƒ©ãƒ¼
npx prisma db push --force-reset

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•—
npx prisma migrate reset && npx prisma migrate dev

# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆã‚¨ãƒ©ãƒ¼
npx prisma generate
```

#### ğŸ”§ Node.jsé–¢é€£
```bash
# ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼
rm -rf node_modules package-lock.json && npm install

# TypeScriptå‹ã‚¨ãƒ©ãƒ¼
npm run type-check

# ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
npm run build
```

### ğŸ“§ æŠ€è¡“æ”¯æ´é€£çµ¡å…ˆ
- **GitHub Issues**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒã‚¸ãƒˆãƒªã®Issues
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: docs/ãƒ•ã‚©ãƒ«ãƒ€å†…ã®å„ç¨®ã‚¬ã‚¤ãƒ‰
- **APIä»•æ§˜**: docs/03_æ©Ÿèƒ½/01_APIä»•æ§˜æ›¸.mdå‚ç…§

---

**ğŸ‰ ç§»æ¤æˆåŠŸãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼**

ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€**ä¼æ¥­ã‚°ãƒ¬ãƒ¼ãƒ‰ã®é«˜å“è³ªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**ãŒå®Œæˆã—ã¾ã™ã€‚

**ç¶™ç¶šçš„æ”¹å–„**: å®šæœŸçš„ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ã€ãƒãƒ¼ãƒ å…¨ä½“ã§å“è³ªå‘ä¸Šã«åŠªã‚ã¦ãã ã•ã„ã€‚

---

*ç§»æ¤ã‚¬ã‚¤ãƒ‰æ›´æ–°æ—¥: 2025-10-01*
*å¯¾å¿œæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: Vue.js 3.3+ / Element Plus 2.3+ / Express.js 4.18+ / Prisma 5.0+ / PostgreSQL 15+*
*å“è³ªãƒ¬ãƒ™ãƒ«: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰*