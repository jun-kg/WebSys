# ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ä»•æ§˜æ›¸

## ğŸ“‹ æ©Ÿèƒ½æ¦‚è¦

### ç›®çš„
- ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œæ™‚ã®è‡ªå‹•æ›´æ–°ã«ã‚ˆã‚‹ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ç¶­æŒã—ãªãŒã‚‰é•·æ™‚é–“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™ç¶šã‚’å®Ÿç¾
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é »ç¹ãªå†ãƒ­ã‚°ã‚¤ãƒ³ã‚’ä¸è¦ã«ã™ã‚‹

### å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ 
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: Vue 3 + Axios ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: Express + JWT + Prisma

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒˆãƒ¼ã‚¯ãƒ³æˆ¦ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äºŒé‡ãƒˆãƒ¼ã‚¯ãƒ³æˆ¦ç•¥ (Dual Token Strategy)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ âœ… ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ (Access Token)              â”‚
â”‚   - æœ‰åŠ¹æœŸé™: 15åˆ†                              â”‚
â”‚   - ç”¨é€”: APIèªè¨¼                               â”‚
â”‚   - ä¿å­˜å ´æ‰€: localStorage                      â”‚
â”‚   - è‡ªå‹•ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥: æœŸé™åˆ‡ã‚Œæ™‚                â”‚
â”‚                                                 â”‚
â”‚ âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ (Refresh Token)         â”‚
â”‚   - æœ‰åŠ¹æœŸé™: 7æ—¥                               â”‚
â”‚   - ç”¨é€”: ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°                  â”‚
â”‚   - ä¿å­˜å ´æ‰€: localStorage + DB                 â”‚
â”‚   - ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³: ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ™‚ã«ç„¡åŠ¹åŒ–      â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼

### 1. è‡ªå‹•ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant Client
    participant Interceptor
    participant API
    participant RefreshAPI
    participant Queue

    Client->>API: APIå‘¼ã³å‡ºã—ï¼ˆã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
    API-->>Interceptor: 401 TOKEN_EXPIRED

    alt ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æœªå®Ÿè¡Œ
        Interceptor->>Interceptor: isRefreshing = true
        Interceptor->>RefreshAPI: POST /api/auth/refresh
        RefreshAPI-->>Interceptor: æ–°ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³
        Interceptor->>Interceptor: localStorageæ›´æ–°
        Interceptor->>Queue: ã‚­ãƒ¥ãƒ¼å‡¦ç†ï¼ˆæˆåŠŸï¼‰
        Interceptor->>API: å…ƒã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå†å®Ÿè¡Œ
        API-->>Client: æ­£å¸¸ãƒ¬ã‚¹ãƒãƒ³ã‚¹
    else ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å®Ÿè¡Œä¸­
        Interceptor->>Queue: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
        Queue-->>Interceptor: å¾…æ©Ÿ
        Note over Queue: ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å®Œäº†å¾Œã«å†å®Ÿè¡Œ
    end
```

### 2. ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å¤±æ•—æ™‚ã®ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant Interceptor
    participant RefreshAPI
    participant Storage
    participant Router

    Interceptor->>RefreshAPI: POST /api/auth/refresh
    RefreshAPI-->>Interceptor: 401 REFRESH_TOKEN_INVALID
    Interceptor->>Storage: ãƒˆãƒ¼ã‚¯ãƒ³å‰Šé™¤
    Interceptor->>Router: /login ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    Interceptor-->>Interceptor: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
```

## ğŸ”§ å®Ÿè£…è©³ç´°

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«**: `workspace/frontend/src/core/api/index.ts`

#### 1. ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥çŠ¶æ…‹ç®¡ç†

```typescript
// ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ä¸­ãƒ•ãƒ©ã‚°ï¼ˆé‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆé˜²æ­¢ï¼‰
let isRefreshing = false
let failedQueue: Array<{
  resolve: (value?: any) => void
  reject: (reason?: any) => void
}> = []

const processQueue = (error: any, token: string | null = null) => {
  failedQueue.forEach(prom => {
    if (error) {
      prom.reject(error)
    } else {
      prom.resolve(token)
    }
  })
  failedQueue = []
}
```

#### 2. Axiosãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ã‚¿ãƒ¼

```typescript
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    const originalRequest = error.config

    if (error.response?.status === 401) {
      const errorCode = error.response.data?.error?.code

      // TOKEN_EXPIRED ã‚¨ãƒ©ãƒ¼ã®ã¿è‡ªå‹•ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
      if (errorCode === 'TOKEN_EXPIRED' && !originalRequest._retry) {

        // æ—¢ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ä¸­ã®å ´åˆã¯ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
        if (isRefreshing) {
          return new Promise((resolve, reject) => {
            failedQueue.push({ resolve, reject })
          }).then(token => {
            originalRequest.headers.Authorization = `Bearer ${token}`
            return api(originalRequest)
          })
        }

        originalRequest._retry = true
        isRefreshing = true

        const refreshToken = localStorage.getItem('refreshToken')

        if (!refreshToken) {
          // ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãŒãªã„â†’ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
          isRefreshing = false
          processQueue(new Error('No refresh token'), null)
          // ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
          return Promise.reject(error)
        }

        try {
          // ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥APIã‚³ãƒ¼ãƒ«
          const response = await axios.post(
            '/api/auth/refresh',
            { refreshToken }
          )

          if (response.data.success) {
            const newAccessToken = response.data.data.accessToken
            localStorage.setItem('token', newAccessToken)

            // ã‚­ãƒ¥ãƒ¼ã®å‡¦ç†
            processQueue(null, newAccessToken)

            // å…ƒã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå†å®Ÿè¡Œ
            originalRequest.headers.Authorization = `Bearer ${newAccessToken}`
            isRefreshing = false
            return api(originalRequest)
          }
        } catch (refreshError) {
          // ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å¤±æ•—â†’ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
          isRefreshing = false
          processQueue(refreshError, null)
          // èªè¨¼æƒ…å ±å‰Šé™¤ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã¸
          return Promise.reject(refreshError)
        }
      }
    }

    return Promise.reject(error)
  }
)
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…

**ãƒ•ã‚¡ã‚¤ãƒ«**: `workspace/backend/src/core/routes/auth.ts`

#### ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```typescript
router.post('/refresh', async (req, res) => {
  try {
    const { refreshToken } = req.body

    if (!refreshToken) {
      return res.status(400).json({
        success: false,
        error: {
          code: 'REFRESH_TOKEN_MISSING',
          message: 'ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãŒå¿…è¦ã§ã™'
        }
      })
    }

    const clientInfo = getClientInfo(req)
    const result = await securityService.refreshAccessToken(
      refreshToken,
      clientInfo.ipAddress
    )

    if (result.isValid && result.newAccessToken) {
      res.json({
        success: true,
        data: {
          accessToken: result.newAccessToken,
          expiresIn: 15 * 60 // 15åˆ†
        }
      })

      log.info(LogCategory.AUTH, 'Token refresh successful', {
        userId: result.payload?.userId,
        ipAddress: clientInfo.ipAddress
      })
    } else {
      res.status(401).json({
        success: false,
        error: {
          code: 'REFRESH_TOKEN_INVALID',
          message: result.error || 'ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹ã§ã™'
        }
      })
    }
  } catch (error) {
    res.status(500).json({
      success: false,
      error: {
        code: 'SYS_001',
        message: 'ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'
      }
    })
  }
})
```

**ãƒ•ã‚¡ã‚¤ãƒ«**: `workspace/backend/src/core/services/SecurityService.ts`

#### ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯

```typescript
async refreshAccessToken(
  refreshToken: string,
  ipAddress: string
): Promise<TokenValidation & { newAccessToken?: string }> {
  try {
    // JWTæ¤œè¨¼
    const payload = jwt.verify(
      refreshToken,
      this.refreshTokenSecret
    ) as TokenPayload

    if (payload.type !== 'refresh') {
      return {
        isValid: false,
        error: 'Invalid refresh token type',
        errorCode: 'INVALID'
      }
    }

    // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§æœ‰åŠ¹æ€§ç¢ºèª
    const storedToken = await prisma.refresh_tokens.findFirst({
      where: {
        userId: payload.userId,
        jti: payload.jti,
        isActive: true
      }
    })

    if (!storedToken) {
      return {
        isValid: false,
        error: 'Refresh token not found',
        errorCode: 'INVALID'
      }
    }

    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª
    const user = await prisma.users.findUnique({
      where: { id: payload.userId }
    })

    if (!user || !user.isActive) {
      return {
        isValid: false,
        error: 'User not found or inactive',
        errorCode: 'INVALID'
      }
    }

    // æ–°ã—ã„ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
    const newJti = this.generateJTI()
    const newAccessToken = jwt.sign(
      {
        userId: user.id,
        username: user.username,
        role: user.role,
        companyId: user.companyId,
        departmentId: user.primaryDepartmentId,
        type: 'access',
        jti: newJti
      },
      this.accessTokenSecret,
      { expiresIn: this.accessTokenExpiry }
    )

    // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°
    await this.logSecurityEvent({
      type: 'TOKEN_REFRESH',
      userId: user.id,
      ipAddress,
      details: { jti: payload.jti, newJti },
      timestamp: new Date()
    })

    return {
      isValid: true,
      payload,
      newAccessToken
    }
  } catch (error) {
    if (error instanceof jwt.TokenExpiredError) {
      return {
        isValid: false,
        error: 'Refresh token expired',
        errorCode: 'EXPIRED'
      }
    }

    return {
      isValid: false,
      error: 'Invalid refresh token',
      errorCode: 'MALFORMED'
    }
  }
}
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

### 1. ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨æ™‚ã«ç„¡åŠ¹åŒ–ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
- æ–°ã—ã„ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œ
- å†åˆ©ç”¨æ”»æ’ƒã‚’é˜²æ­¢

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¤œè¨¼

- ãƒ¡ãƒ¢ãƒªå†…JWTã ã‘ã§ãªãDBä¿å­˜ãƒˆãƒ¼ã‚¯ãƒ³ã¨ç…§åˆ
- å¼·åˆ¶ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼ˆç®¡ç†è€…æ“ä½œï¼‰æ™‚ã®å³åº§ç„¡åŠ¹åŒ–
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã®å®Œå…¨è¿½è·¡

### 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

| ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ | èª¬æ˜ | å¯¾å¿œ |
|------------|------|------|
| `REFRESH_TOKEN_MISSING` | ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æœªé€ä¿¡ | 400ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| `REFRESH_TOKEN_INVALID` | ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼å¤±æ•—ãƒ»DBæœªç™»éŒ² | 401ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| `REFRESH_TOKEN_EXPIRED` | ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ | 401ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| `USER_NOT_FOUND` | ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤æ¸ˆã¿ | 401ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| `USER_INACTIVE` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç„¡åŠ¹åŒ– | 401ã‚¨ãƒ©ãƒ¼ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |

## ğŸ“Š æ€§èƒ½ãƒ»ç›£è¦–

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

- **ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥å‡¦ç†æ™‚é–“**: å¹³å‡ < 200ms
- **ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°é…å»¶**: å¹³å‡ < 50ms
- **åŒæ™‚ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: ã‚­ãƒ¥ãƒ¼ã§çµ±åˆï¼ˆ1å›ã®ã¿å®Ÿè¡Œï¼‰

### ç›£è¦–é …ç›®

```typescript
// ãƒ­ã‚°ç›£è¦–
{
  category: 'AUTH',
  event: 'TOKEN_REFRESH',
  userId: number,
  ipAddress: string,
  duration: number, // ãƒŸãƒªç§’
  success: boolean
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### æ­£å¸¸ç³»

1. âœ… ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œæ™‚ã®è‡ªå‹•ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
2. âœ… è¤‡æ•°åŒæ™‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°
3. âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æˆåŠŸå¾Œã®å…ƒãƒªã‚¯ã‚¨ã‚¹ãƒˆå†å®Ÿè¡Œ

### ç•°å¸¸ç³»

1. âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æœªé€ä¿¡
2. âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ
3. âœ… ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³DBæœªç™»éŒ²
4. âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç„¡åŠ¹åŒ–ãƒ»å‰Šé™¤æ¸ˆã¿
5. âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## ğŸ“ˆ å°†æ¥ã®æ‹¡å¼µ

### Phase 4: ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

```typescript
// ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥æ™‚ã«æ–°ã—ã„ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã‚‚ç™ºè¡Œ
{
  accessToken: "æ–°ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³",
  refreshToken: "æ–°ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³", // è¿½åŠ 
  expiresIn: 900,
  refreshExpiresIn: 604800
}
```

### Phase 5: Sliding Expiration

- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è‡ªå‹•æœŸé™å»¶é•·
- éã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ™‚ã®çŸ­æœŸé–“ã§ã®æœŸé™åˆ‡ã‚Œ

---

**ä½œæˆæ—¥**: 2025å¹´10æœˆ5æ—¥
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ5æ—¥
**ä½œæˆè€…**: Claude
**é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**:
- [èªè¨¼æ©Ÿèƒ½è¨­è¨ˆæ›¸](./èªè¨¼æ©Ÿèƒ½è¨­è¨ˆæ›¸.md)
- [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜æ›¸](../../99_ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤/ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜æ›¸.md)
