# 機能追加・改善チェックリスト

**文書番号**: DOC-053
**バージョン**: 1.0
**最終更新**: 2025-09-27

## 使用方法

1. 機能追加・改善実施時に本チェックリストを使用
2. 全項目をチェック（該当なしの場合はN/Aを記入）
3. 問題が発見された場合は「問題管理シート」セクションに記録
4. 改善タスクとして「51-改善実装タスク管理表.md」に登録

---

## 📋 実施情報

| 項目 | 内容 |
|------|------|
| 実施日 | YYYY-MM-DD |
| 実施者 | |
| 対象機能 | |
| 変更種別 | □ 新機能追加 □ 既存機能改修 □ UI/UX変更 □ 権限変更 □ その他 |
| リリース予定 | |

---

## ✅ ユーザビリティチェック

### 👤 一般ユーザー（USER）視点

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| U01 | 権限のない機能が非表示になっているか | | | |
| U02 | 403エラーが発生しないか | | | |
| U03 | 操作が直感的で分かりやすいか | | | |
| U04 | 画面表示が3秒以内か | | | |
| U05 | エラーメッセージが理解しやすいか | | | |
| U06 | ヘルプ・ガイダンスが適切か | | | |
| U07 | 入力フォームのバリデーションが適切か | | | |
| U08 | 必須項目が明確に表示されているか | | | |

### 👨‍💼 管理者（ADMIN）視点

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| A01 | 一括操作機能が適切に動作するか | | | |
| A02 | 承認フローにボトルネックがないか | | | |
| A03 | 緊急時の操作パスが確保されているか | | | |
| A04 | 監査ログが適切に記録されるか | | | |
| A05 | 権限設定が容易に行えるか | | | |
| A06 | システム全体の状況が把握できるか | | | |
| A07 | データのエクスポート/インポートが可能か | | | |

### 👔 マネージャー（MANAGER）視点

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| M01 | 部署内メンバーを適切に管理できるか | | | |
| M02 | 適切な承認権限が付与されているか | | | |
| M03 | 必要なレポートが取得できるか | | | |
| M04 | 権限の委任が可能か | | | |
| M05 | 部署別の統計が確認できるか | | | |

### 👥 ゲスト・外部ユーザー視点

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| G01 | アクセスが適切に制限されているか | | | |
| G02 | 必要最小限の情報のみ表示されるか | | | |
| G03 | 個人情報が保護されているか | | | |

---

## 🔒 セキュリティチェック

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| S01 | 適切な認証が実装されているか | | | |
| S02 | 権限チェックが正しく動作するか | | | |
| S03 | SQLインジェクション対策があるか | | | |
| S04 | XSS対策が実装されているか | | | |
| S05 | CSRF対策が実装されているか | | | |
| S06 | 機密情報が暗号化されているか | | | |
| S07 | セキュリティイベントがログに記録されるか | | | |
| S08 | セッション管理が適切か | | | |

---

## ⚡ パフォーマンスチェック

| # | チェック項目 | 基準値 | 測定値 | OK/NG | 問題詳細 |
|---|------------|--------|--------|-------|---------|
| P01 | 初期画面表示速度 | < 3秒 | | | |
| P02 | 画面遷移速度 | < 2秒 | | | |
| P03 | API応答時間 | < 1秒 | | | |
| P04 | 検索処理時間 | < 2秒 | | | |
| P05 | ファイルアップロード時間 | < 5秒/MB | | | |
| P06 | 同時接続数 | > 100 | | | |
| P07 | メモリ使用量 | < 500MB | | | |
| P08 | CPU使用率 | < 70% | | | |

---

## 📱 UI/UXチェック

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| X01 | レスポンシブデザイン（モバイル対応） | | | |
| X02 | タブレット表示の最適化 | | | |
| X03 | キーボード操作対応 | | | |
| X04 | スクリーンリーダー対応 | | | |
| X05 | 色覚異常対応（カラーユニバーサル） | | | |
| X06 | フォントサイズの可読性 | | | |
| X07 | ローディング表示の適切性 | | | |
| X08 | エラー表示の視認性 | | | |
| X09 | 成功メッセージの表示 | | | |
| X10 | ナビゲーションの一貫性 | | | |

---

## 🔄 ワークフロー・権限チェック

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| W01 | ワークフローが正しく動作するか | | | |
| W02 | 承認ルートが適切に設定されているか | | | |
| W03 | 通知が正しく送信されるか | | | |
| W04 | エスカレーションが機能するか | | | |
| W05 | 委任・代理承認が動作するか | | | |
| W06 | 権限の継承が正しく機能するか | | | |
| W07 | 部署異動時の権限更新が適切か | | | |

---

## 🗄️ Prisma操作チェック（新規追加）

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| P01 | schema.prismaで正確なモデル名を確認したか | | | |
| P02 | 単数形モデル名を使用していないか（user/log/company等） | | | |
| P03 | リレーション名がschema.prismaと一致しているか | | | |
| P04 | 必須フィールド（@defaultなし）を全て設定したか | | | |
| P05 | PrismaClientシングルトンを使用しているか | | | |
| P06 | new PrismaClient()を使用していないか | | | |
| P07 | 水平展開チェック（同じモデルの全ファイル確認）を実施したか | | | |

---

## 🔌 API実装チェック（新規追加）

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| AP01 | 動的ルート(:id)を静的ルートの後に配置したか | | | |
| AP02 | 環境変数対応のプロキシ設定を使用したか | | | |
| AP03 | API呼び出しで相対パス(/api/...)を使用したか | | | |
| AP04 | ハードコードされたURL（http://localhost等）がないか | | | |
| AP05 | エラーハンドリングが統一パターンで実装されているか | | | |

---

## 🎨 フロントエンド品質チェック（新規追加）

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| FE01 | Vueリアクティブデータ（ref/reactive）を使用しているか | | | |
| FE02 | null/undefinedチェック（オプショナルチェーン）を実施したか | | | |
| FE03 | レスポンシブ対応（xs/sm/md）を実装したか | | | |
| FE04 | 必須ユーティリティファイル（auth.ts/date.ts等）が存在するか | | | |

---

## 🔒 認証・権限チェック（新規追加）

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| AU01 | 401エラー時の自動トークンリフレッシュを実装したか | | | |
| AU02 | 複数タブ認証状態同期を実装したか | | | |
| AU03 | エラーメッセージの重複抑制（3秒間）を実装したか | | | |
| AU04 | 3層防御（ルートガード・ミドルウェア・UI）を実装したか | | | |

---

## 🔄 水平展開チェック（必須実施）

| # | チェック項目 | OK/NG/NA | 問題詳細 | 対応要否 |
|---|------------|----------|---------|----------|
| HE01 | Prismaモデル名チェックコマンドを実行したか | | | |
| HE02 | CLAUDE.mdガイドライン違反チェックを実行したか | | | |
| HE03 | APIルーティング順序チェックを実行したか | | | |
| HE04 | 環境変数ハードコードチェックを実行したか | | | |
| HE05 | ユーティリティファイル存在チェックを実行したか | | | |
| HE06 | 発見した問題を全て記録・修正したか | | | |
| HE07 | 予防効果（直接修正数/水平展開数）を記録したか | | | |

---

## 🧪 テスト実施状況

| # | テスト種別 | 実施 | パス率 | 備考 |
|---|-----------|------|--------|------|
| T01 | ユニットテスト | □ | % | |
| T02 | 統合テスト | □ | % | |
| T03 | E2Eテスト | □ | % | |
| T04 | 負荷テスト | □ | % | |
| T05 | セキュリティテスト | □ | % | |
| T06 | ユーザビリティテスト | □ | % | |
| T07 | アクセシビリティテスト | □ | % | |
| T08 | ブラウザ互換性テスト | □ | % | |

---

## 📝 問題管理シート

### 発見した問題リスト

| # | 問題ID | 問題概要 | 重要度 | 影響範囲 | ステータス |
|---|--------|---------|--------|----------|------------|
| 1 | | | | | |
| 2 | | | | | |
| 3 | | | | | |
| 4 | | | | | |
| 5 | | | | | |

### 問題詳細記録

#### 問題1
```
問題ID: P-YYYY-MM-DD-001
重要度: CRITICAL / HIGH / MEDIUM / LOW
影響範囲: 全ユーザー / 特定ロール / 特定機能 / 限定的

【問題内容】


【再現手順】
1.
2.
3.

【期待動作】


【実際動作】


【改善案】


【対応方針】
□ 即時対応
□ 次回リリース対応
□ 保留
□ 対応不要
```

---

## 🎯 改善タスク作成

### 作成したタスク一覧

| # | タスクID | タスク名 | 優先度 | 期限 | 担当者 |
|---|----------|---------|--------|------|--------|
| 1 | | | | | |
| 2 | | | | | |
| 3 | | | | | |

---

## 📊 総合評価

### 評価サマリー

| 評価項目 | 評価 | コメント |
|----------|------|----------|
| ユーザビリティ | ☆☆☆☆☆ | |
| セキュリティ | ☆☆☆☆☆ | |
| パフォーマンス | ☆☆☆☆☆ | |
| アクセシビリティ | ☆☆☆☆☆ | |
| 総合評価 | ☆☆☆☆☆ | |

### リリース判定

| 判定項目 | 結果 | 備考 |
|----------|------|------|
| CRITICAL問題の有無 | □ なし □ あり | |
| HIGH問題の対応状況 | □ 全対応 □ 一部未対応 | |
| テストカバレッジ | % | |
| リリース可否 | □ 可 □ 条件付き可 □ 不可 | |

### 申し送り事項

```
【次回対応が必要な事項】


【注意事項】


【改善提案】


```

---

## ✍️ 承認

| 役割 | 氏名 | 承認日 | サイン |
|------|------|--------|--------|
| 実施者 | | | |
| レビュアー | | | |
| 承認者 | | | |

---

**備考**:
- このチェックリストは「52-継続的改善プロセス運用ガイドライン.md」に基づいて作成
- 問題が発見された場合は必ず「51-改善実装タスク管理表.md」に登録すること
- 定期的にチェック項目の見直しを実施（四半期ごと）